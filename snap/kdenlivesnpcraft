name: kdenlive-snap  # the name of the snap
version: "16.08.1"
summary: Kdenlive snap  # 79 char long summary
description: This is my-snap's description  # a longer description for the snap
confinement: "devmode" # use "strict" to enforce system access only via declared interface


apps:
  kdenlive-snap:
    command: scripts/setpath.sh
    plugs: [unity7, x11, home, opengl, pulseaudio]

parts:
  kdenlive-snap:  # Replace with a part name of your liking
    # Get more information about plugins by running
    # snapcraft help plugins
    # and more information about the available plugins
    # by running
    # snapcraft list-plugins
    #source: /home/three/src/kdenlive
    source: http://download.kde.org/stable/applications/16.08.1/src/kdenlive-16.08.1.tar.xz
    plugin: cmake
    after: [desktop-qt5]
    configflags: [-DCMAKE_INSTALL_PREFIX=/usr]

    build-packages:
      - build-essential
      - extra-cmake-modules
      - pkg-config
      - libavformat-dev
      - libavdevice-dev
      - frei0r-plugins-dev
      - frei0r-plugins
      - libgtk2.0-dev
      - libexif-dev
      - libmovit-dev
      - libsdl1.2-dev
      - libsox-dev
      - libxml2-dev
      - ladspa-sdk
      - libcairo2-dev
      - libswscale-dev
      - qtscript5-dev
      - libqt5svg5-dev 
      - libqt5opengl5-dev
      - qtdeclarative5-dev
      - libepoxy-dev
      - libeigen3-dev
      - libfftw3-dev
      - intltool
      - swig
      - libmp3lame-dev
      - libgavl-dev
      - libsamplerate0-dev
      - libjack-dev
      - libkf5crash-dev
      - kdoctools-dev
      - libkf5archive-dev
      - libkf5config-dev
      - libkf5configwidgets-dev
      - libkf5widgetsaddons-dev
      - libkf5completion-dev
      - libkf5coreaddons-dev
      - libkf5auth-dev
      - libkf5codecs-dev
      - libkf5guiaddons-dev
      - libkf5i18n-dev
      - libkf5windowsystem-dev
      - libkf5dbusaddons-dev
      - libkf5itemviews-dev
      - libkf5iconthemes-dev
      - libkf5jobwidgets-dev
      - libkf5service-dev
      - libkf5solid-dev
      - libkf5sonnet-dev
      - libkf5textwidgets-dev
      - libkf5attica-dev
      - libkf5globalaccel-dev
      - libkf5xmlgui-dev
      - libkf5bookmarks-dev
      - kio-dev
      - libkf5notifications-dev
      - libkf5notifyconfig-dev
      - libkf5newstuff-dev
      - libkf5filemetadata-dev
      - libmlt-dev
      - libmlt++-dev

    stage-packages:
      - kded5
      - kinit
      - kio
      - oxygen-icon-theme
      - qml-module-qtquick2
      - libkf5archive5
      - libkf5bookmarks5
      - libkf5completion5
      - libkf5configcore5
      - libkf5configgui5
      - libkf5configwidgets5
      - libkf5coreaddons5
      - libkf5dbusaddons5
      - libkf5guiaddons5
      - libkf5i18n5
      - libkf5iconthemes5
      - libkf5itemviews5
      - libkf5jobwidgets5
      - libkf5kiocore5
      - libkf5kiofilewidgets5
      - libkf5kiowidgets5
      - libkf5newstuff5
      - libkf5notifications5
      - libkf5notifyconfig5
      - libkf5plotting5
      - libkf5service-bin
      - libkf5service5
      - libkf5solid5
      - libkf5textwidgets5
      - libkf5widgetsaddons5
      - libkf5xmlgui5
      - libsdl1.2debian
      - libavdevice-ffmpeg56
      - libavresample-ffmpeg2
      - libavformat-ffmpeg56
      - libavcodec-ffmpeg56
      - libavutil-ffmpeg54
      - libpostproc-ffmpeg53
      - libswscale-ffmpeg3
      - libswresample-ffmpeg1
      - ffmpeg
      - libqt5xml5
      - libqt5opengl5
      - libepoxy0
      - libglew1.13
      - libglu1-mesa
      - libgl1-mesa-dri
      - libqt5widgets5
      - libqt5gui5
      - libqt5svg5
      - libpangoft2-1.0-0
      - libpango-1.0-0
      - libmovit4
      - frei0r-plugins
      - libjack-jackd2-0
      - libgtk2.0-0
      - libglib2.0-0
      - libgl1-mesa-glx
      - libgdk-pixbuf2.0-0
      - libgcc1
      - libfftw3-double3
      - libexif12
      - libc6
      - libqt5core5a
      - libsamplerate0
      - libsox2
      - libx11-6
      - libxml2
      - libstdc++6
      - librtaudio4v5
      - libmlt6
      - libmlt++3
      - libmlt-data
      - melt
      - qml-module-qtquick-controls

  setpath:
    plugin: copy
    files:
      setpath.sh: scripts/setpath.sh

